define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,r,a){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[14773],{10144:function(e,t,n){"use strict";var r=n(85959);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.A=function(e){var t=e.title,n=e.titleId,i=l(e,["title","titleId"]);return r.createElement("svg",a({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},i),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M21.75 7.512H16.5v-5.25a2.25 2.25 0 0 0-2.25-2.25h-12A2.25 2.25 0 0 0 0 2.262v12a2.25 2.25 0 0 0 2.25 2.25H7.5v5.25a2.25 2.25 0 0 0 2.25 2.25h12a2.25 2.25 0 0 0 2.25-2.25v-12a2.25 2.25 0 0 0-2.25-2.25m-19.5 7.5a.75.75 0 0 1-.75-.75v-12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 .75.75v5.25H9.75a2.25 2.25 0 0 0-2.25 2.25v5.25zm20.25 6.75a.75.75 0 0 1-.75.75h-12a.75.75 0 0 1-.75-.75v-12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 .75.75z"}))}},97822:function(e,t,n){"use strict";var r=n(85959);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.A=function(e){var t=e.title,n=e.titleId,i=l(e,["title","titleId"]);return r.createElement("svg",a({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},i),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M23.043 12.235 11.703.895A2.98 2.98 0 0 0 9.58.015H3.018c-1.655 0-3 1.346-3 3.006l.014 6.59a2.98 2.98 0 0 0 .88 2.114l11.32 11.32a3 3 0 0 0 2.12.878 3 3 0 0 0 2.123-.877l6.568-6.568a3.005 3.005 0 0 0 0-4.243m-1.06 3.182-6.569 6.568a1.504 1.504 0 0 1-2.121 0L1.972 10.665a1.5 1.5 0 0 1-.44-1.058l-.014-6.592c0-.827.672-1.5 1.5-1.5H9.58c.4 0 .777.156 1.06.44l11.341 11.34a1.504 1.504 0 0 1 0 2.122"}),r.createElement("path",{d:"M14.713 9.004 9 14.716a.75.75 0 1 0 1.061 1.06l5.711-5.712a.75.75 0 1 0-1.06-1.06"}),r.createElement("circle",{cx:14.6,cy:14.6,r:1.1}),r.createElement("path",{d:"M10.137 11.265a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25m-4.875-8.25c-1.24 0-2.25 1.01-2.25 2.25s1.01 2.25 2.25 2.25 2.25-1.01 2.25-2.25-1.01-2.25-2.25-2.25m0 3a.75.75 0 1 1 .002-1.502.75.75 0 0 1-.002 1.502"}))}},17520:function(e,t,n){"use strict";var r=n(85959);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.A=function(e){var t=e.title,n=e.titleId,i=l(e,["title","titleId"]);return r.createElement("svg",a({width:128,height:16,fill:"none",viewBox:"0 0 128 16","aria-labelledby":n},i),t?r.createElement("title",{id:n},t):null,r.createElement("g",{clipPath:"url(#f84__clip0_3300_13808)"},r.createElement("g",{fill:"#000",clipPath:"url(#f84__clip1_3300_13808)"},r.createElement("path",{d:"m0 12.594 7.88-7.646H.21V3.002H10.93V5.23l-7.88 7.645h8.067v1.947H0zM11.492 11.609c0-2.627 2.251-3.354 4.244-3.612l3.706-.469c.891-.117 1.149-.516 1.149-1.055v-.024c0-1.055-.915-1.829-2.908-1.829-1.923 0-3.002.727-3.19 1.947h-2.485c.281-2.393 2.368-3.87 5.745-3.87 3.776 0 5.324 1.595 5.324 4.221v7.904h-2.369v-1.876c-1.008 1.454-2.814 2.18-4.854 2.18-2.697 0-4.362-1.36-4.362-3.517m9.099-2.134v-.563c-.399.164-.844.258-1.337.328L16.3 9.64c-1.524.21-2.228.774-2.228 1.806 0 1.102.938 1.759 2.463 1.759 2.51 0 4.057-1.712 4.057-3.73M24.18 0h2.485v14.822H24.18zM27.486 11.609c0-2.627 2.251-3.354 4.245-3.612l3.705-.469c.892-.117 1.15-.516 1.15-1.055v-.024c0-1.055-.915-1.829-2.909-1.829-1.923 0-3.001.727-3.19 1.947h-2.485c.281-2.393 2.369-3.87 5.746-3.87 3.776 0 5.323 1.595 5.323 4.221v7.904h-2.368v-1.876c-1.009 1.454-2.815 2.18-4.855 2.18-2.697 0-4.362-1.36-4.362-3.517m9.1-2.134v-.563c-.4.164-.845.258-1.337.328l-2.955.399c-1.525.21-2.228.774-2.228 1.806 0 1.102.938 1.759 2.462 1.759 2.51 0 4.057-1.712 4.057-3.73M40.174 3.002h2.486v1.923c.89-1.407 2.58-2.228 4.643-2.228 3.096 0 4.925 1.782 4.925 5.066v7.059h-2.486V8.114c0-2.18-1.149-3.377-3.26-3.377-2.275 0-3.822 1.525-3.822 3.682v6.403h-2.486zM53.049 8.865c0-3.823 2.65-6.168 5.816-6.168 1.9 0 3.541.68 4.526 2.087V0h2.486v14.822h-2.486v-1.806c-1.078 1.454-2.626 2.11-4.526 2.11-3.166 0-5.816-2.391-5.816-6.261m10.413.023c0-2.462-1.454-4.174-3.917-4.174-2.439 0-3.916 1.688-3.916 4.15 0 2.487 1.477 4.246 3.916 4.246 2.463 0 3.917-1.76 3.917-4.222M66.698 8.888c0-3.635 2.463-6.191 6.52-6.191 4.08 0 6.52 2.556 6.52 6.191 0 3.636-2.44 6.239-6.52 6.239-4.058 0-6.52-2.604-6.52-6.239m10.46 0c0-2.298-1.267-4.174-3.94-4.174s-3.94 1.876-3.94 4.174c0 2.322 1.266 4.222 3.94 4.222s3.94-1.9 3.94-4.222"})),r.createElement("path",{fill:"#FF4C00",fillRule:"evenodd",d:"M91.584.667h28.86a7.666 7.666 0 0 1 0 15.333h-28.86a7.667 7.667 0 0 1 0-15.333m.378 9.069h2.493v-.004c1.855 0 3.356-1.416 3.356-3.162 0-1.747-1.501-3.163-3.356-3.163h-4.361v4.645l-3.468-.005v1.685h3.468v3.53h1.868zm7.098 3.527h6.559v-1.678h-4.69V3.407H99.06zm11.233.207c2.56 0 4.123-1.384 4.123-3.916V3.407h-1.868v6.154c0 1.508-.816 2.283-2.255 2.283s-2.256-.775-2.256-2.283V3.407h-1.868v6.147c0 2.505 1.592 3.916 4.124 3.916m5.119-3.459c.015 2.255 1.564 3.473 4.221 3.473l.004-.004c2.49 0 3.985-1.092 3.977-3.031 0-1.592-.954-2.467-3.265-2.92l-.857-.167c-1.453-.288-1.924-.662-1.924-1.45 0-.764.609-1.218 1.771-1.218 1.498 0 2.107.54 2.177 1.646h1.814c-.069-1.95-1.356-3.154-4.013-3.154-2.31 0-3.653 1.106-3.653 2.78 0 1.596 1.051 2.592 3.169 2.993l.83.166c1.508.319 2.021.65 2.021 1.425 0 .928-.71 1.426-1.996 1.426-1.508 0-2.421-.514-2.436-1.965zm-23.45-4.93h2.402c.874 0 1.581.664 1.581 1.486 0 .823-.707 1.489-1.58 1.489h-2.403z",clipRule:"evenodd"})),r.createElement("defs",null,r.createElement("clipPath",{id:"f84__clip0_3300_13808"},r.createElement("path",{fill:"#fff",d:"M0 0h128v16H0z"})),r.createElement("clipPath",{id:"f84__clip1_3300_13808"},r.createElement("path",{fill:"#fff",d:"M0 0h79.737v15.127H0z"}))))}},13276:function(e,t,n){"use strict";var r=n(39930);t.Ay=r.A},73960:function(e,t,n){"use strict";n.d(t,{Uf:function(){return r},Yq:function(){return l},mY:function(){return i},qp:function(){return a}});const r=e=>e.find((e=>e.isDefaultOffer)),a=(e,t)=>{var n;if(!t)return;const a=e.simplesWithStock.find((e=>e.sku===t));var l;const i=r(null!=(l=null==a?void 0:a.allOffers)?l:[]);return null==i||null==(n=i.merchant)?void 0:n.id},l=e=>e.find((e=>e.isDefaultOffer)),i=(e,t)=>{var n;if(!t)return;const r=e.simples.find((e=>e.sku===t));var a;const i=l(null!=(a=null==r?void 0:r.allOffers)?a:[]);return null==i||null==(n=i.merchant)?void 0:n.id}},99251:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,product_incentives:["incentives.legal_terms.info_icon.aria_label","incentives.legal_terms.dialog.loading_error","incentives.copy_coupon.label","voucher.copy.clipboard.success.notification","a11y.slim_sales_banner.copy_voucher"]}},56368:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return He}});var r=n(85959),a=n(29443),l=n(32740),i=n(11506),c=n(52292),o=n(46673),s=n(73960),u=n(30812),d=n(14410),m=n(10170),v=n(41825),f=n(36124),p=n(2673),h=n(52130),g=n(97822),E=n(65476),b=n(5073),y=n(38856),_=n(24832),O=n(14936),C=n(95141),S=n(21775);const L="membership:signup:complete",x="PDP$CHANGE_SIZE",N="PDP$UNSELECT_SIZE",w="PDP$OFFER_ADDED_TO_CART",k="default",P="incentives",T="product detail page",A=/#([^#\s]+)#/g,M=/(#[^#\s]+#)/g,I=__("incentives.legal_terms.info_icon.aria_label"),D=__("incentives.legal_terms.dialog.loading_error");var R;!function(e){e.LearnMore="LEARN_MORE",e.SignUp="PLUS_SIGNUP"}(R||(R={}));var B=n(89862);const H=(e,t)=>e.track({name:B.bD,context:{customCategory:T,customLabel:"incentives:"+t}});var U=r.createContext(null);const j={currentSKU:void 0,currentOffer:void 0,isBannerDisplayedOnce:!1,setCurrentSKU:()=>{},setCurrentOffer:()=>{},setIsBannerDisplayedOnce:()=>{}},K=r.createContext(j),z=e=>{let{children:t,defaultValue:n}=e;const[a,l]=r.useState((null==n?void 0:n.currentSKU)||void 0),[i,c]=r.useState((null==n?void 0:n.currentOffer)||void 0),[o,s]=r.useState((null==n?void 0:n.isBannerDisplayedOnce)||!1),u={currentSKU:a,currentOffer:i,isBannerDisplayedOnce:o,setCurrentSKU:l,setCurrentOffer:c,setIsBannerDisplayedOnce:s};return r.createElement(K.Provider,{value:u},t)};var F=K;const V=(e,t)=>(void 0===t&&(t=!1),{text:e,isBold:t}),Q=(e,t)=>{if(!e)return[];const n=e.match(A);if(!n)return[V(e)];const r=new Map(null==t?void 0:t.map((e=>["#"+e.key+"#",e.value])));return n.some((e=>!r.has(e)))?[]:((e,t)=>e.split(M).filter((e=>e)).map((e=>t.has(e)?V(t.get(e)||e,!0):V(e))))(e,r)},W={isLoading:!1,header:void 0,content:void 0,error:!1,setIsLoading:()=>{},setHeader:()=>{},setContent:()=>{},setError:()=>{}},q=r.createContext(W),G=e=>{let{children:t,defaultValue:n}=e;const[a,l]=r.useState((null==n?void 0:n.isLoading)||!1),[i,c]=r.useState(null==n?void 0:n.header),[o,s]=r.useState(null==n?void 0:n.content),[u,d]=r.useState((null==n?void 0:n.error)||!1),m={isLoading:a,header:i,content:o,error:u,setIsLoading:l,setHeader:c,setContent:s,setError:d};return r.createElement(q.Provider,{value:m},t)};var Y=q,Z=n(91828);const $=e=>{let{campaignId:t,executeQuery:n,trackEvent:r,store:a}=e;return a.setIsLoading(!0),function(e,t){return()=>{const n={name:B.zM,context:{entity_id:t,customLabel:P}};e(n)}}(r,t)(),n({...Z,variables:{id:t}}).then((e=>{let{data:t}=e;var n,r;(null==t?void 0:t.incentivesLegalTerms)?(a.setHeader(X(null==(n=t.incentivesLegalTerms)?void 0:n.title)),a.setContent(X(null==(r=t.incentivesLegalTerms)?void 0:r.description))):a.setError(!0);a.setIsLoading(!1)}))},X=e=>e?e.replace(new RegExp("\\n","g"),"<br/>"):"";var J=n(81500),ee=n(33284),te=n(17520),ne=n(51599),re=n(32099),ae=n(10144),le=n(13276),ie=n(91936),ce=n(28258),oe=n(45722),se=n.n(oe),ue=n(4050),de=n(15384);const me={root:u(b.OL,y.Fn),ellipsis:u(d.gO,d.gO),prefix:u(ue.N,m.sWS),contentWrapper:u(b.OL,y.rX,y.EJ,re.Gm),content:u(ue.N,m.bDL),suffix:u(ue.N)},ve={root:u(ne.hLC,v.Hq,m.iZo,de.clickToHide),spanWrapper:u(m.ZEI)};var fe=me;const pe=e=>{const{labels:t,content:n,onCopy:a}=e;return r.createElement("div",{className:u(fe.root)},r.createElement("div",{className:fe.contentWrapper},Boolean(t.contentLabel)&&r.createElement(p.Ay,{className:u(fe.prefix),preset:h.nx.bodySmall,tag:"h2"},t.contentLabel),r.createElement(p.Ay,{preset:h.nx.bodyLargeBold,className:u(fe.content,fe.ellipsis),tag:"h3"},n)),r.createElement("div",null,r.createElement(le.Ay,{className:fe.suffix,"aria-label":t.copyButtonLabel,styles:ve,onClick:async()=>{if("string"==typeof n){if(await se()(n),t.notificationMessage){const e=r.createElement(ie.E,{timeout:3e3,ariaLive:t.notificationMessage},r.createElement(p.Ay,{color:h.r7.inverse,preset:h.nx.body},t.notificationMessage));ce.h.show(e)}"function"==typeof a&&a()}}},r.createElement(f.A,{src:ae.A}))))},he=e=>{let{richTextNodes:t}=e;return r.createElement(r.Fragment,null,(t||[]).map(((e,t)=>r.createElement(p.Ay,{key:"node-part-"+t,preset:e.isBold?h.nx.bodySmallBold:h.nx.bodySmall,color:h.r7.primary},e.text))))};var ge=n(23215),Ee=n(96545);const be=e=>{let{href:t,label:n,onClick:a}=e;return n&&(t||a)?r.createElement("div",{className:u(m.QgQ)},t?r.createElement(ge.A,{size:Ee.s.medium,href:t,onClick:a},n):r.createElement(ge.Y,{size:Ee.s.medium,onClick:a},n)):null},ye=(0,l.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(36304)]).then(n.bind(n,36304)).then((e=>e.default)))),_e=e=>{let{richTextNodes:t,intent:n,legalTerms:a,onPlusSignupClick:l,onCtaClick:i,couponCode:c,onCouponCopyClick:o,plusLogo:s}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:u(m.yON,b.OL)},r.createElement("div",{className:u(b.OL,re.Gm,y.Fn)},r.createElement(s,null)),!!a&&r.createElement(ye,a)),r.createElement(he,{richTextNodes:t}),!!c&&r.createElement("div",{className:u(m.XiK)},r.createElement(pe,{labels:{contentLabel:__("incentives.copy_coupon.label"),notificationMessage:__("voucher.copy.clipboard.success.notification"),copyButtonLabel:__("a11y.slim_sales_banner.copy_voucher")},content:c,onCopy:o})),n&&r.createElement(be,(e=>R.LearnMore===e.kind?{href:e.uri||void 0,onClick:i,label:e.label}:{href:"#",onClick:l,label:e.label})(n)))},Oe=(0,l.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(36304)]).then(n.bind(n,36304)).then((e=>e.default)))),Ce=e=>{let{richTextNodes:t,intent:n,legalTerms:a,couponCode:l,onCouponCopyClick:i,onCtaClick:c}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:u(b.OL)},r.createElement("div",null,r.createElement(he,{richTextNodes:t})),!!a&&r.createElement(Oe,a)),!!l&&r.createElement("div",{className:u(m.XiK)},r.createElement(pe,{labels:{contentLabel:__("incentives.copy_coupon.label"),notificationMessage:__("voucher.copy.clipboard.success.notification"),copyButtonLabel:__("a11y.slim_sales_banner.copy_voucher")},content:l,onCopy:i})),n&&r.createElement(be,{href:n.uri||"#",label:n.label,onClick:c}))};var Se=n(13185);const Le=(0,l.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(36304)]).then(n.bind(n,36304)).then((e=>e.default)))),xe=e=>{let{richTextNodes:t,intent:n,legalTerms:a,onCtaClick:l,couponCode:i,onCouponCopyClick:c}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:u(m.yON,b.OL)},r.createElement("div",{className:u(b.OL,re.Gm,y.Fn)},r.createElement(Se.A,{size:"s",logo:"LoyaltyPoints"})),!!a&&r.createElement(Le,a)),r.createElement(he,{richTextNodes:t}),!!i&&r.createElement("div",{className:u(m.XiK)},r.createElement(pe,{labels:{contentLabel:__("incentives.copy_coupon.label"),notificationMessage:__("voucher.copy.clipboard.success.notification"),copyButtonLabel:__("a11y.slim_sales_banner.copy_voucher")},content:i,onCopy:c})),n&&r.createElement(be,(e=>R.LearnMore===e.kind?{href:e.uri||void 0,onClick:l,label:e.label}:{href:"#",onClick:()=>{},label:e.label})(n)))},Ne=e=>"MONOCHROME_PILL"===e.variant?r.createElement(J.A,{src:ee.A}):r.createElement(J.A,{src:te.A});var we=e=>{const{isPlusRelevant:t,isLoyaltyRelevant:n,variant:a}=e;let l=r.createElement(Ce,e);return t&&a&&(l=r.createElement(_e,{...e,plusLogo:()=>r.createElement(Ne,{variant:a})})),n&&(l=r.createElement(xe,e)),r.createElement("div",{className:u(m.Ol8,m.cgu,v.$A,v.Nd,v.e6,v.FQ,v.NB,ne.sS9)},l)};const ke=(e,t)=>({isPlusRelevant:e.isPlusRelevant,isLoyaltyRelevant:"LOYALTY_POINTS"===e.useCase,variant:t,richTextNodes:Q(e.messageTemplate,e.properties),intent:e.intent||void 0,couponCode:e.couponCode||void 0}),Pe=(e,t)=>{const{isMobile:n,tracking:r}=e;return{onPlusSignupClick:()=>((e,t,n)=>{H(t,n),e?window.location.href="/membership/sign-up":S.trigger("membership:signup:open",{context:"PDP",page:"register"})})(n,r,t),onCtaClick:()=>H(r,t),onCouponCopyClick:()=>((e,t)=>e.track({name:B.bD,context:{customCategory:"product detail page",customLabel:"incentives.coupon_code:"+t}}))(r,t)}},Te=(e,t,n,a)=>{const l={root:u(v.Hq,m.iZo),spanWrapper:u(m.ZEI),spanWrapperWithImage:u(m.joi,m.$sS,m.sf0)};var i;const c={labels:{legalTerms:null!=(i=t.content)?i:"",legalTermsIconAriaLabel:I},styles:l,isHTMLContent:!0,isLoadingData:t.isLoading,onOpenDialog:()=>{if(e.legalTerms&&!t.content)return $({campaignId:e.legalTerms.id,executeQuery:n,trackEvent:a,store:t})},header:t.header?r.createElement(r.Fragment,null,r.createElement("div",{className:m.uvl},r.createElement(f.A,{src:g.A,fontSize:"custom",className:d.h2})),r.createElement(p.Ay,{preset:h.nx.h3,tag:"h3",className:m.uvl},t.header)):void 0,loadingBody:r.createElement("div",{className:u(b.OL,y.bd,y.vF,_.Ig,y.t4,O.Xv)},r.createElement(f.A,{src:E.A,className:u(y.bd,C.m)})),legalTermsLoadErrorMessage:t.error?D:void 0};return{legalTerms:e.legalTerms?c:void 0}};var Ae=e=>{let{setRendererState:t,configSku:n,executeQuery:a,trackEvent:l,prio2TrackingConfig:i}=e;const c=r.useContext(U),o=r.useContext(F),s=r.useContext(Y);if(c&&o&&o.currentSKU){var u,d;const e=null!=(d=o.currentOffer)?d:c.defaultOfferBySKU.get(o.currentSKU),m=e?null==(u=c.incentivesBySKU.get(o.currentSKU))?void 0:u.get(e):void 0;if(r.useEffect((()=>{var e;return e=e=>e&&setTimeout((()=>t({isPlusEligibleSignupComplete:e})),500),S.on(L,(t=>{let{isMember:n}=t;e(n)})),(e=>{S.on(x,(t=>{e(t)}))})((e=>o.setCurrentSKU(e))),(e=>{S.on(N,e)})((()=>o.setCurrentSKU(n))),(e=>{S.on(w,(t=>{e(t)}))})((e=>o.setCurrentOffer(e))),()=>{S.off(x),S.off(N),S.off(L),S.off(w)}}),[]),r.useEffect((()=>{!o.isBannerDisplayedOnce&&m&&(((e,t,n)=>{var r;e.track({name:B.wc,context:{customCategory:T,customLabel:"incentives:"+t}},n),e.trackStandalone({name:"view_content",context:{legacy_event_name:B.wc,event_trigger_name:""+(r="incentives_"+t,r.replace(/[^a-zA-Z0-9]/g,"_").replace(/^_|_$/g,"").toLowerCase())}},n)})(c.tracking,m.id,i),o.setIsBannerDisplayedOnce(!0))})),!m)return null;const v={...ke(m,c.variant),...Pe(c,m.id),...Te(m,s,a,l)};return v.richTextNodes.length?r.createElement(we,v):null}return null};const Me=(e,t,n,r)=>{let a=n.get(e);a||(a=new Map,n.set(e,a)),r&&a.set(t,r)},Ie=(e,t)=>{const n=new Map;return t.incentives&&t.incentives.length&&Me(e,k,n,t.incentives[0]),t.simples&&t.simples.length&&t.simples.forEach((e=>{var t;null==(t=e.allOffers)||t.forEach((t=>{var r,a;t.incentives&&t.incentives.length&&(null==(r=t.merchant)?void 0:r.id)&&Me(e.sku,null==(a=t.merchant)?void 0:a.id,n,t.incentives[0])}))})),n},De=(e,t)=>{const n=new Map;return t.incentives&&t.incentives.length&&n.set(e,k),t.simples&&t.simples.length&&t.simples.forEach((e=>{var t;null==(t=e.allOffers)||t.forEach((t=>{var r,a;t.incentives&&t.incentives.length&&(null==(r=t.merchant)?void 0:r.id)&&t.isDefaultOffer&&n.set(e.sku,null==(a=t.merchant)?void 0:a.id)}))})),n};var Re=n(43135);const Be=(0,c.C)((e=>e.children));var He=(0,l.tile)({isPlusEligibleSignupComplete:!1}).withQueries(((e,t)=>{let{entity:{id:n}}=e,{isPlusEligibleSignupComplete:r}=t;return{data:{query:Re,variables:{id:n},...r?{fetchPolicy:"network-only"}:{}}}})).withTracking((e=>({def:a.def,context:{id:e.entity.id}}))).withProcessDependencies((e=>{const{product:t}=e.data;return t?{action:"render",data:{product:t}}:{action:"error",message:"Invalid product"}})).withRender((e=>{const{context:{deviceInfo:t,navigation:n,experience:a},data:{product:l},tools:{setRendererState:c,tracking:u,executeQuery:d},entity:{id:m},ruleData:v}=e;if(!l)return null;const{isDesktop:f,isMobile:p}=t,{experienceName:h}=(0,i.q)(a),g={isMobile:p,defaultOfferBySKU:De(m,l),incentivesBySKU:Ie(m,l),tracking:u,variant:h.isDesigner()?"MONOCHROME_PILL":"DEFAULT"},E=(0,o.tQ)(l,n.url.query)||m,b={currentSKU:E,currentOffer:(0,s.mY)(l,E),isBannerDisplayedOnce:!1},y={header:void 0,content:void 0},_={enableStandaloneInShadow:!!v.enableStandaloneInShadowPrior2,enableStandaloneOnly:!!v.enableStandaloneOnlyPrior2};return r.createElement(Be,{disableListeners:!0,serverMedia:t,isTouchOnServer:!f},r.createElement(U.Provider,{value:g},r.createElement(z,{defaultValue:b},r.createElement(G,{defaultValue:y},r.createElement(Ae,{setRendererState:c,configSku:m,executeQuery:d,trackEvent:e=>u.track(e),prio2TrackingConfig:_})))))}))},45722:function(e){e.exports=function(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch((function(e){throw void 0!==e?e:new DOMException("The request is not allowed","NotAllowedError")}));var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();n.removeAllRanges(),r.selectNode(t),n.addRange(r);var a=!1;try{a=window.document.execCommand("copy")}catch(e){console.log("error",e)}return n.removeAllRanges(),window.document.body.removeChild(t),a?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}},91828:function(e){e.exports={id:"7bc175d95a37b2cd33f0a75e583e70060182aaba2954efe6fb7dbc584fa8a04d"}},43135:function(e){e.exports={id:"68e89c0cc7dba946fac1a658972aeba39af5e93cc8e7e9c24b704a158dbd2e63"}},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},48398:function(e){"use strict";e.exports=n},32740:function(e){"use strict";e.exports=r},21775:function(e){"use strict";e.exports=a}},function(e){var t=function(t){return e(e.s=t)};return e.O(0,[29674],(function(){return t(99251),t(56368)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/product_incentives/index-4c5a941d5d4c22d10e9e.map