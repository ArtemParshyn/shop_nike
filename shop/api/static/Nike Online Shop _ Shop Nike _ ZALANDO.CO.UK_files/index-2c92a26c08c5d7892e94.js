define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,a,r){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[82183],{155:function(e,t,n){var a;!function(r,i){"use strict";var s=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,a){return 1===arguments.length?t.get(e):t.set(e,n,a)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return n===i?i:decodeURIComponent(n)},t.set=function(e,n,a){return(a=t._getExtendedOptions(a)).expires=t._getExpiresDate(n===i?-1:a.expires),t._document.cookie=t._generateCookieString(e,n,a),t},t.expire=function(e,n){return t.set(e,i,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==i?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){var a=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return a+=(n=n||{}).path?";path="+n.path:"",a+=n.domain?";domain="+n.domain:"",a+=n.expires?";expires="+n.expires.toUTCString():"",a+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},a=e?e.split("; "):[],r=0;r<a.length;r++){var s=t._getKeyValuePairFromCookieString(a[r]);n[t._cacheKeyPrefix+s.key]===i&&(n[t._cacheKeyPrefix+s.key]=s.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,a=e.substr(0,t);try{n=decodeURIComponent(a)}catch(e){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+a+'"',e)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},o="object"==typeof r.document?s(r):s;(a=function(){return o}.call(t,n,t,e))===i||(e.exports=a)}("undefined"==typeof window?this:window)},13010:function(e,t,n){var a=n(155);function r(e,t){var n;"credentials"in(t=t||{})||(t.credentials="same-origin"),"same-origin"===t.credentials&&(n=a.get(r.cookieName)||"",t.headers=t.headers||{},t.headers[r.headerName]=n);var i=[].slice.call(arguments);return i[1]=t,fetch.apply(void 0,i)}r.cookieName="csrf-token",r.headerName="x-csrf-token",e.exports=r},54918:function(e,t,n){"use strict";n.r(t),n.d(t,{backdrop:function(){return s},body:function(){return h},close:function(){return g},content:function(){return o},contentEnter:function(){return c},contentEnterActive:function(){return u},contentEnterDone:function(){return l},contentExit:function(){return d},contentExitActive:function(){return f},contentExitDone:function(){return m},focusWrapper:function(){return i},footer:function(){return E},header:function(){return p},root:function(){return a},trigger:function(){return r}});var a="",r="Md_Vex",i="mo6ZnF KLaowZ _0xLoFW _78xIQ-",s="suGiUx uyF88V u-C3dd SmOhEI jDGwVr df4QKn aii1uz",o="jXAL_5 _78xIQ- x7LsVH LyRfpJ uyF88V _3Yda1k u-C3dd mo6ZnF KLaowZ",c="IsVrTP",l="FkrgW3",u="AsLZyy",d="SuRd-k",f="Jej6bK",m="tRh_gS",h="pA9EGb mZoZK2 KLaowZ _3Yda1k -ZiX0Q",g="BXKCcR r9BRio Md_Vex NN8L-8 heWLCX LyRfpJ VWL_Ot _13ipK_ _5Yd-hZ XZLqti",p="zU1-Zx JT3_zV _0xLoFW _9l1hln DlJ4rT yqrcoC FCIprz EJ4MLB H0WzBz svLiZt O4Aj42 ykb2t2",E="SmOhEI jDGwVr mo6ZnF _9bx9k9 _4qpPat ykb2t2"},13276:function(e,t,n){"use strict";var a=n(39930);t.Ay=a.A},68852:function(e,t,n){"use strict";n.d(t,{fs:function(){return E},Ay:function(){return v}});var a=n(89575),r=n(17502),i=n(64338),s=n(67170),o=n(30812),c=n.n(o),l=n(85959),u=n.n(l),d=n(24741),f=n(61104),m=n(2673),h=n(52130);const g="ZDS_FORM_CLEAR",p=["className","message","id","rows","disableResize","hideLabel","label","disabled","onChange","maxLength","onBlur","onFocus","onMouseEnter","onMouseLeave","required","labels","suffix","disableSuffixSpacing"],E=u().forwardRef(((e,t)=>{const{className:n,message:o,id:l,rows:E=2,disableResize:v=!1,hideLabel:b=!1,label:_,disabled:y,onChange:w,maxLength:S,onBlur:A,onFocus:N,onMouseEnter:k,onMouseLeave:C,required:I,labels:T,suffix:x,disableSuffixSpacing:O=!1}=e,L=(0,r.A)(e,p),{active:R,handleOnBlur:D,handleOnFocus:M,handleOnMouseEnter:F,handleOnMouseLeave:P}=(0,i.k)({onMouseEnter:k,onMouseLeave:C,onBlur:A,onFocus:N}),[H,V]=u().useState(Boolean("")),Z="number"==typeof S,[G,U]=u().useState(Z?0:void 0);let j;!0===I?j=T&&T.required||"*":void 0!==I&&!1===I&&(j=T&&T.optional||"");const X=u().useRef(null),W=u().useCallback((e=>{e&&(X.current=e,t&&(t.current=e),X.current.addEventListener(g,(()=>{Z&&U(0),V(!1)})))}),[t]);let B=l;B||(B="textarea-"+(0,s.v)());const K=o&&o.type===d.G.ERROR;return u().createElement("div",{className:c()(n,"_0xLoFW _78xIQ-")},!b&&u().createElement("label",{htmlFor:B,className:c()("_9IXfHD sDq_FX goVnUa FxZV-M Q1UH4S wYGQO3 _2sk4iC _8D09HN _99qBVG n4kyHD _9bx9k9 xEnSvs e5GQII X9zxwl",y?"AbrXsY _kokww HlZ_Tf":R?"clL0TQ":K?"nz3KSh f7D34i EvwuKo pU4jGH":"AGyQQq HlZ_Tf _kokww")},_,j&&u().createElement("span",{className:"ukMezw sDq_FX goVnUa FxZV-M _3LATVU"},j)),u().createElement("div",{className:c()("AemEXe JT3_zV _0xLoFW",y?"sDq_FX goVnUa FxZV-M nXkCf3 HlZ_Tf x7LsVH gcK-9K AbrXsY":R?"_3DErZh":K?"Y4WL9O":H?"j1EvvJ":"gcK-9K")},u().createElement("textarea",(0,a.A)({ref:W,className:c()("iiZw8J oosgvo sDq_FX _2kjxJ6 FxZV-M bsVOrE mo6ZnF dUMFv9 K82if3 LyRfpJ HlZ_Tf NN8L-8 _3laWWw Vn-7c-",v&&"_0ZsMJ")},y&&{disabled:!0},{id:B,rows:E},Z&&{maxLength:S},L,I&&{required:I},{onChange:e=>{const{target:t}=e;Z&&U(t.value.length),"function"==typeof w&&w(e),V(Boolean(t.value))}},b&&{"aria-label":"string"==typeof _?_:void 0},{onMouseEnter:F,onMouseLeave:P,onFocus:M,onBlur:D})),x&&u().createElement("div",{className:c()("_0xLoFW uEg2FS K82if3",!O&&"q84f1m snL7ze _99qBVG")},x),Z&&u().createElement("div",{className:"KVKCn3 df4QKn SmOhEI XfNx0j","data-char-count":"true"},u().createElement(m.Ay,{preset:h.nx.bodyExtraSmall},G," / ",S))),o&&u().createElement(f.A,o))}));var v=E},80277:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,"chat_fashion-assistant":["chat.fashion.assistant.ui.headline","chat.fashion.assistant.cta.button.primary","chat.fashion.assistant.cta.button.cancel","main.close","chat.fashion.assistant.cta.title","chat.fashion.assistant.cta.text","chat.asistant.ui.voice.input.generic.error","chat.asistant.ui.voice.input.mic.permission.web.android.error","chat.asistant.ui.voice.input.mic.permission.web.ios.error","chat.asistant.ui.voice.input.speech.permission.web.ios.error","chat.fashion.assistant.ui.welcome.text","chat.fashion.assistant.backend.error","chat.fashion.assistant.chat.session.api.error","chat.fashion.assistant.chat.history.api.error","chat.fashion.assistant.chat.overload.error","chat.fashion.assistant.ui.chat.limit.text","chat.fashion.assistant.ui.chat.limit.approaching.text","chat.fashion.assistant.ui.faq.message","chat.fashion.assistant.ui.faqs.text","chat.fashion.assistant.ui.faq.link","chat.fashion.assistant.ui.input.label.chat.ended","chat.fashion.assistant.ui.input.label","chat.asistant.ui.input.maxlength.error.message","chat.fashion.assistant.ui.sendbuttontooltip.link","chat.fashion.assistant.ui.headline.beta","catalog.filter.clear","chat.fashion.assistant.display.similar.product","chat.fashion.assistant.ui.feedback.like","chat.fashion.assistant.ui.feedback.dislike"]}},3540:function(e,t,n){"use strict";n.d(t,{A:function(){return N}});var a=n(85959),r=n(30812),i=n(5073),s=n(24741),o=n(68852),c=n(76309);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=function(e){var t=e.title,n=e.titleId,r=u(e,["title","titleId"]);return a.createElement("svg",l({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,a.createElement("path",{d:"M7.681 4.54a4.354 4.354 0 1 1 8.708 0v6.205a4.354 4.354 0 1 1-8.708 0zm4.354-2.853A2.854 2.854 0 0 0 9.181 4.54v6.205a2.854 2.854 0 1 0 5.708 0V4.54a2.854 2.854 0 0 0-2.854-2.853"}),a.createElement("path",{d:"M4.384 8.794a.75.75 0 0 1 .75.75v.737a6.901 6.901 0 0 0 13.802 0v-.737a.75.75 0 0 1 1.5 0v.737a8.4 8.4 0 0 1-7.664 8.369l.031 4.484a.75.75 0 1 1-1.5.01l-.031-4.496a8.4 8.4 0 0 1-7.638-8.367v-.737a.75.75 0 0 1 .75-.75"}))},f=n(73009),m=n(32099),h=n(13276),g=n(58777),p=n(36124),E=n(10170),v=n(38856),b=n(32740),_=n(76793),y=n(30072),w=n.n(y),S=n(85517);const A=(0,b.createLoadableComponent)((()=>n.e(61360).then(n.bind(n,23734)).then((e=>e.default))));function N(e){let{userInput:t,chatLimitReached:n,setUserInput:l,submitUserInput:u,audioAnimation:b,speechAnimation:y,enableSpeechRecognizer:N,stopSpeechRecognizer:k,startSpeechRecognizer:C,setUserInputMedium:I}=e;const T=n?__("chat.fashion.assistant.ui.input.label.chat.ended"):__("chat.fashion.assistant.ui.input.label"),x=__("chat.asistant.ui.input.maxlength.error.message"),O={type:s.G.ERROR,icon:a.createElement(p.A,{src:c.A}),label:""+x},L=N&&t.length<=0?a.createElement(h.Ay,{"data-testid":"mic-icon",preset:g.lH.default,onClick:()=>{!n&&(b||y?k():C())},className:r(i.K,E.pGT),size:"large"},a.createElement(p.A,{src:d})):a.createElement(a.Fragment,null),R=a.useRef(null),[D,M]=a.useState(1),[F,P]=a.useState(0);a.useEffect((()=>{if(t.length>0){const n=Math.trunc(t.length/F)+1>3?3:Math.trunc(t.length/F)+1;var e;if(M(n),3===n)if(R.current)R.current.scrollTop=null==(e=R.current)?void 0:e.scrollHeight}else M(1);H()}),[t]),a.useEffect((()=>{P(window.innerWidth/11)}),[]);const H=w()((()=>{t.length>_.Z_&&(b||y)&&(k(),l(t.substring(0,_.Z_)),I(S.gh.VOICE))}),300),V=()=>{(b||y)&&k()};return a.createElement("div",{className:r(i.OL,v.vF)},a.createElement("div",{className:r(m.Gm,i.OL,E.vJI,E.LXt,E.ZIx,E.Mw$)},a.createElement(o.fs,{ref:R,label:T,placeholder:T,hideLabel:!0,id:"assistant-chat-user-input",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),u())},value:t,onInput:e=>l(e.target.value),className:r(m.Gm),disabled:n,suffix:L,onClick:e=>{e.stopPropagation(),V()},rows:D,disableSuffixSpacing:!0,disableResize:!0,message:t.length>=_.Z_?O:void 0,onBeforeInput:e=>{e.target.value.length>=_.Z_&&(e.preventDefault(),l(t.substring(0,_.Z_)))},onInputCapture:e=>{e.target.value.length>=_.Z_&&l(e.target.value.substring(0,_.Z_))}}),t.length>0?a.createElement(h.Ay,{label:__("chat.fashion.assistant.ui.sendbuttontooltip.link"),"data-testid":"submit-icon",preset:g.lH.primary,onClick:e=>{V(),u()},size:"large",style:{maxHeight:"48px"}},a.createElement(p.A,{src:f.A})):a.createElement(a.Fragment,null)),a.createElement(A,{audioAnimation:b,speechAnimation:y,stopSpeechRecognition:e=>{e.stopPropagation(),V()}}))}},76793:function(e,t,n){"use strict";n.d(t,{Bc:function(){return c},H$:function(){return i},Or:function(){return m},Vl:function(){return s},Y_:function(){return d},Z_:function(){return o},bi:function(){return a},g4:function(){return f},pq:function(){return r},q2:function(){return h},qb:function(){return u},r$:function(){return g},vQ:function(){return l}});const a="ASSISTANT_ONBOARDING_TOOLTIP_SHOWN",r="zfa-chat-session",i="/chat-fashion-assistant",s=12e5,o=400,c=[429,503],l="wishlist:update-count",u="ern:chat:fashion-assistant",d=2,f="urn:zalando:zfa:canned_action:search:",m="urn:zalando:zfa:canned_action:redirect:",h=["Can I see more items?"],g="ern:visibilityinfo:chb:recommenders"},90911:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var a=n(85959);const r=(0,a.createContext)({})},59789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ce}});var a={};n.r(a),n.d(a,{arrow:function(){return T},body:function(){return O},close:function(){return x},content:function(){return I},contentEnter:function(){return D},contentEnterActive:function(){return F},contentEnterDone:function(){return M},contentExit:function(){return P},contentExitActive:function(){return H},contentExitDone:function(){return V},focusWrapper:function(){return R},footer:function(){return L}});var r=n(85959),i=n.n(r),s=n(32740),o=n(59055),c=n(30812),l=n.n(c),u=n(59890),d=n(58777),f=n(3906),m=n(87548),h=n(2673),g=n(52130),p=n(58168),E=n(98587),v=n(62507),b=n(68662),_=n(64465),y=n(50696);const w=["children","className","forwardedRef"];var S=e=>{let{children:t,className:n,forwardedRef:a}=e,r=(0,E.A)(e,w);const[s]=(0,y.D)(v.Ay),{style:{arrow:o}}=s;return"function"==typeof t?t((e=>(void 0===e&&(e={}),Object.assign({},e,{className:l()(o,e.className)}))),s):i().createElement("div",(0,p.A)({className:l()(o,n),ref:a,"aria-hidden":"true"},r),t)},A=n(23330),N=n(99199),k=n(67466),C=n(22349),I="-vpr3F x7LsVH OGTPbw LyRfpJ AcNrW- KVKCn3 C3wGFf m_NGmo",T="uaY0Ti",x="KVKCn3 _2CapDZ Vehx7N",O="_0xLoFW _78xIQ-",L="_0xLoFW Wn-EjT",R="mo6ZnF KLaowZ _0xLoFW _78xIQ-",D="-SLwul",M="zvYeCP",F="Ai8zI4",P="uXCj2l",H="ZOFWwO",V="uMfNEX",Z=n(88033),G=n(74455),U=n(1759),j=n(33027),X=n(98633),W=n(84647);const B=["style"],K=["id","trigger","children","className","header","footer","role","aria-label","ariaLabelledBy","ariaDescribedBy","placement","flyoutTriggerProps","flyoutContentProps","flyoutHeaderProps","flyoutBodyProps","flyoutFooterProps","focusManagerProps"];var q=e=>{let{id:t,trigger:n,children:r,header:s,footer:o,role:c="dialog","aria-label":l,ariaLabelledBy:d,ariaDescribedBy:f,placement:m="bottom",flyoutTriggerProps:h,flyoutContentProps:{style:g}={},flyoutHeaderProps:y,flyoutBodyProps:w,flyoutFooterProps:I,focusManagerProps:T}=e,x=(0,E.A)(e.flyoutContentProps,B),O=(0,E.A)(e,K);const[L,R]=i().useState(),[D,M]=i().useState(),[F,P]=i().useState(),H=i().useMemo((()=>new u.l),[]),V=i().useId(),q=t||V,{styles:z,attributes:Q}=(0,Z.E)(L,D,{placement:m,modifiers:[Object.assign({},G.X,{options:{bus:H}}),Object.assign({},U.A,{options:{element:F}}),Object.assign({},j.A),Object.assign({},X.A,{enabled:"bottom"===m}),Object.assign({},W.A,{options:{offset:[0,8]}})]});return i().createElement(v.Ay,(0,p.A)({bus:H,styles:a},O),n&&i().createElement(b.A,(0,p.A)({"aria-haspopup":c,"aria-controls":q,forwardedRef:R},h),n),i().createElement(_.A,(0,p.A)({},Q.popper,x,{style:Object.assign({},z.popper,g),forwardedRef:M,id:q,role:c,"aria-label":l,"aria-labelledby":d,"aria-describedby":f},"dialog"===c?{"aria-modal":!1}:{}),i().createElement(S,(0,p.A)({forwardedRef:P,style:Object.assign({},z.arrow)},Q.arrow)),i().createElement(A.A,(0,p.A)({initialFocus:null==x?void 0:x.initialFocusElement,focusTarget:"picker"},T),s&&i().createElement(N.A,y,s),i().createElement(k.A,w,r),o&&i().createElement(C.A,I,o))))},z=n(5073),Q=n(38856),J=n(10170),Y=n(85202),$=n(73127),ee=n(32099),te=n(17502),ne=n(36394),ae=n(38369);const re=["primaryColor","secondaryColor","tertiaryColor","quaternaryColor","aria-label"];var ie=e=>{let{primaryColor:t="#2626DE",secondaryColor:n="#0D6DFF",tertiaryColor:a="#5068EF",quaternaryColor:r="#8B56EE","aria-label":s}=e,o=(0,te.A)(e,re);const{primary:c,secondary:l,tertiary:u,quaternary:d}=(0,ae.A)({primaryColor:t,secondaryColor:n,tertiaryColor:a,quaternaryColor:r});return i().createElement(ne.A,o,i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0",y:"0",version:"1.1",viewBox:"0 0 174 42",xmlSpace:"preserve"},i().createElement("title",null,s||"Fashion Assistant Onboarding"),i().createElement("path",{d:"M108.406 40.5c0 .69-.559 1.25-1.25 1.25-3.198 0-6.785-1.722-9.75-5.322-2.964 3.6-6.552 5.322-9.75 5.322a1.25 1.25 0 1 1 0-2.5c2.366 0 5.549-1.46 8.227-4.93-2.774-4.378-4.705-10.753-4.705-19.291 0-4.613.63-8.166 1.648-10.62.975-2.351 2.518-4.135 4.566-4.159H97.42c2.047.024 3.591 1.808 4.565 4.159 1.018 2.454 1.649 6.007 1.649 10.62 0 8.538-1.931 14.913-4.706 19.29 2.679 3.47 5.861 4.931 8.227 4.931.691 0 1.25.56 1.25 1.25Zm-11-8.485c2.17-3.836 3.729-9.367 3.729-16.986 0-4.422-.61-7.618-1.458-9.663-.88-2.124-1.816-2.6-2.27-2.616-.456.015-1.39.492-2.272 2.616-.847 2.045-1.457 5.241-1.457 9.662 0 7.62 1.558 13.15 3.728 16.987Z",className:u.className,style:u.style,fill:"currentColor"}),i().createElement("path",{d:"M127.906 40.5c0 .69-.559 1.25-1.25 1.25-3.198 0-6.785-1.722-9.75-5.322-2.964 3.6-6.552 5.322-9.75 5.322a1.25 1.25 0 0 1 0-2.5c2.366 0 5.549-1.46 8.227-4.93-2.774-4.378-4.705-10.753-4.705-19.291 0-4.613.631-8.166 1.648-10.62.975-2.351 2.518-4.135 4.566-4.159H116.921c2.047.024 3.591 1.808 4.565 4.159 1.018 2.454 1.649 6.007 1.649 10.62 0 8.538-1.931 14.913-4.706 19.29 2.679 3.47 5.861 4.931 8.227 4.931.691 0 1.25.56 1.25 1.25Zm-11-8.485c2.171-3.836 3.729-9.367 3.729-16.986 0-4.422-.61-7.618-1.458-9.663-.881-2.124-1.816-2.6-2.271-2.616-.455.015-1.39.492-2.27 2.616-.848 2.045-1.458 5.241-1.458 9.662 0 7.62 1.558 13.15 3.728 16.987Z",className:u.className,style:u.style,fill:"currentColor"}),i().createElement("path",{d:"M22.931 8.76c0-.69.56-1.25 1.25-1.25h11.255c.69 0 1.25.56 1.25 1.25v24.882c0 .379-.171.737-.467.974l-8.38 6.734a1.25 1.25 0 0 1-2.034-.975v-5.483H9.57c-.69 0-1.25-.56-1.25-1.25v-11.33a1.25 1.25 0 1 1 2.5 0v10.08h16.236c.69 0 1.25.56 1.25 1.25v4.126l5.881-4.725V10.01H24.181c-.69 0-1.25-.56-1.25-1.25ZM9.812.325c.69 0 1.25.56 1.25 1.25 0 3.364 2.57 5.935 5.935 5.935a1.25 1.25 0 0 1 0 2.5c-3.364 0-5.937 2.572-5.937 5.935a1.25 1.25 0 0 1-2.5 0c0-3.363-2.571-5.934-5.935-5.934a1.25 1.25 0 0 1 0-2.5c3.364 0 5.937-2.573 5.937-5.936 0-.69.56-1.25 1.25-1.25Zm0 5.742a8.227 8.227 0 0 1-2.695 2.694 8.224 8.224 0 0 1 2.693 2.693 8.226 8.226 0 0 1 2.694-2.694 8.224 8.224 0 0 1-2.693-2.693Z",className:c.className,style:c.style,fill:"currentColor"}),i().createElement("path",{d:"M152.5.25c.69 0 1.25.56 1.25 1.25 0 7.055 1.295 11.502 4.021 14.229 2.727 2.726 7.174 4.021 14.229 4.021a1.25 1.25 0 0 1 0 2.5c-7.245 0-12.548-1.305-15.996-4.754-1.603-1.602-2.743-3.606-3.504-6.02-.761 2.414-1.901 4.417-3.504 6.02-1.602 1.603-3.606 2.743-6.019 3.504 2.413.76 4.417 1.9 6.019 3.504 3.449 3.448 4.754 8.751 4.754 15.996a1.25 1.25 0 0 1-2.5 0c0-7.055-1.295-11.502-4.021-14.229-2.727-2.726-7.174-4.021-14.229-4.021a1.25 1.25 0 0 1 0-2.5c7.055 0 11.502-1.295 14.229-4.021 2.726-2.727 4.021-7.174 4.021-14.229 0-.69.56-1.25 1.25-1.25Z",className:d.className,style:d.style,fill:"currentColor"}),i().createElement("path",{d:"M156.139 24.369c3.528-3.351 8.945-4.619 16.361-4.619a1.25 1.25 0 0 1 0 2.5c-7.251 0-11.833 1.266-14.639 3.931-2.788 2.649-4.111 6.96-4.111 13.819a1.25 1.25 0 0 1-2.5 0c0-7.074 1.344-12.263 4.889-15.631Z",className:d.className,style:d.style,fill:"currentColor"}),i().createElement("path",{d:"M63.17 7.756a1.25 1.25 0 0 1 1.364-1.125 6.601 6.601 0 0 1 5.94 7.203 1.25 1.25 0 1 1-2.489-.24 4.101 4.101 0 0 0-3.69-4.475 1.25 1.25 0 0 1-1.124-1.363ZM56.528 35.438c0-.69.56-1.25 1.25-1.25h10.444a1.25 1.25 0 0 1 0 2.5H57.778c-.69 0-1.25-.56-1.25-1.25ZM57.813 40.688c0-.69.56-1.25 1.25-1.25h7.874a1.25 1.25 0 0 1 0 2.5h-7.874c-.69 0-1.25-.56-1.25-1.25Z",className:l.className,style:l.style,fill:"currentColor"}),i().createElement("path",{d:"M53.3 3.987C55.723 1.444 59.758.062 63.063.062c3.319 0 7.225 1.39 9.638 3.925a12.808 12.808 0 0 1 3.554 9.083c-.033 2.088-.93 4.647-1.734 6.563a43.434 43.434 0 0 1-1.61 3.401l-.029.054-.008.015-.003.006c-.667 1.221-1.011 2.927-1.339 4.548-.044.22-.088.44-.133.655a3.93 3.93 0 0 1-3.859 3.125h-9.074a3.933 3.933 0 0 1-3.862-3.128c-.045-.214-.089-.431-.133-.65-.328-1.622-.672-3.328-1.339-4.55v-.002l-.003-.004-.008-.015-.03-.054-.106-.2c-.09-.174-.219-.423-.372-.733a43.48 43.48 0 0 1-1.13-2.468c-.804-1.916-1.702-4.475-1.735-6.563m20.929 8.84.001-.001.006-.01.024-.045.095-.18a41.017 41.017 0 0 0 1.412-3.008c.798-1.9 1.516-4.071 1.54-5.636a10.31 10.31 0 0 0-2.864-7.319c-1.868-1.961-5.078-3.149-7.828-3.149-2.762 0-6.09 1.196-7.95 3.15m0 0a10.31 10.31 0 0 0-2.866 7.318c.025 1.565.743 3.735 1.54 5.636a40.952 40.952 0 0 0 1.509 3.188l.024.045.005.01.002.002c.865 1.585 1.289 3.713 1.602 5.281.042.215.083.42.123.611.136.657.72 1.134 1.414 1.134h9.074a1.43 1.43 0 0 0 1.41-1.131l.125-.614c.312-1.568.737-3.696 1.602-5.281M53.3 3.987a12.81 12.81 0 0 0-3.554 9.083Z",className:l.className,style:l.style,fill:"currentColor"})))},se=n(36124),oe=n(76793),ce=n(73691);function le(){return r.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip0_990_39490)"},r.createElement("path",{d:"M13.4733 5H21V18.2102L16.14 22V18.2102H6V12.2941",stroke:"currentColor",strokeWidth:"2.03704",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M10 5.00002C7.74328 5.00002 6.00049 3.25689 6.00049 1C6.00049 3.25689 4.25672 5.00021 2 5.00021C4.25672 5.00021 5.9997 6.74311 5.9997 9C5.9997 6.74311 7.74328 5.00002 10 5.00002Z",stroke:"currentColor",strokeWidth:"2.03704",strokeLinejoin:"round"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_990_39490"},r.createElement("rect",{width:"24",height:"24"}))))}var ue=n(27314),de=n(90911),fe=n(53437),me=n(9049);const he=(0,s.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(557)]).then(n.bind(n,12641)).then((e=>e.default)))),ge=new u.l,pe=new u.l;var Ee=function(e){let{tiles:t,context:n,customerName:a,tools:i,rendererState:o,shouldShowTooltip:l,isSpeechFeatureEnabled:u}=e;const{trackingOptionFlags:p}=r.useContext(de.X);r.useEffect((()=>{if(l){!!localStorage.getItem(oe.bi)||setTimeout((()=>{ge.emit("open"),localStorage.setItem(oe.bi,"true")}),2500)}(0,fe.iV)({tracking:i.tracking,trackingOptionFlags:p,ZAViewEvent:(0,ce.G6)()}),(0,s.isBrowser)()&&(window.openZFAModal=E,setTimeout(ue.Tn,1e3))}),[]);const E=()=>{pe.emit("open")},v=()=>{(0,fe.tX)({tracking:i.tracking,trackingOptionFlags:p,ZAClickEvent:(0,ce.pq)()}),window.scrollTo(0,0),document.body.tabIndex=-1,document.body.focus(),ge.emit("close")};return r.createElement("div",{"data-testid":"assistant"},r.createElement(q,{flyoutTriggerProps:{disableClickTrigger:!0},"aria-label":__("chat.fashion.assistant.ui.headline"),"aria-modal":"true",bus:ge,footer:r.createElement("div",{className:c(Q.vF,ee.Gm)},r.createElement("div",{className:c(J.Cou)},r.createElement(Y.j,{label:__("chat.fashion.assistant.cta.button.primary"),className:ee.Gm,onClick:()=>{setTimeout((()=>{E()}),10),(0,fe.tX)({tracking:i.tracking,trackingOptionFlags:p,ZAClickEvent:(0,ce.PI)()})}})),r.createElement($.t,{label:__("chat.fashion.assistant.cta.button.cancel"),className:ee.Gm,onClick:v})),trigger:r.createElement(f.A,{onMouseEnter:ue.Tn,label:__("chat.fashion.assistant.ui.headline"),className:c(m._Su,m.Er7,m.S4d,"zfa-svg-animation-icon"),"aria-label":__("chat.fashion.assistant.ui.headline"),preset:d.lH.primary,size:"large",onClick:()=>{(0,fe.tX)({tracking:i.tracking,trackingOptionFlags:p,ZAClickEvent:(0,ce.XF)()}),E()},style:{bottom:"35%",zIndex:5}},r.createElement(se.A,{src:le}))},r.createElement(r.Fragment,null,r.createElement("div",{className:c(z.OL,Q.sS)},r.createElement(ie,{width:"128",height:"32","aria-hidden":"true"}),r.createElement(f.A,{onClick:v,size:"large","aria-label":__("main.close")},r.createElement(se.A,{src:me.A}))),r.createElement("div",null,r.createElement(h.Ay,{preset:g.nx.h6,className:c(J.QgQ)},__("chat.fashion.assistant.cta.title"))),r.createElement("div",null,r.createElement(h.Ay,{tag:"p",preset:g.nx.body,className:c(J.QgQ),font:g.KQ.serif},__("chat.fashion.assistant.cta.text"))))),r.createElement(he,{tiles:t,context:n,customerName:a,tools:i,modalBus:pe,tooltipBus:ge,rendererState:o,isSpeechFeatureEnabled:u}))},ve=n(3540),be=n(35506),_e=n(21775),ye=n(54918),we=n(64150);const Se=(0,s.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(62918)]).then(n.bind(n,21040)).then((e=>e.default))));function Ae(e){let{tiles:t,context:n,customerName:a,tools:i,rendererState:s,isSpeechFeatureEnabled:o}=e;const{loading:l,chatLimit:u,conversations:d,initiateChat:f,setMessageList:m,userInput:h,setUserInput:g,submitUserInput:p,updateWishlistIndicator:E,cannedActionEvent:v,preCreatedCannedAction:b,submitFeedback:_,appendMessage:y,setUserInputMedium:w,scrollToBottom:S,getSimilarItemEntity:A,openVisibilityInfoModal:N}=(0,be.Y)({tools:i,context:n,rendererState:s,customerName:a}),{audioAnimation:k,speechAnimation:C,enableSpeechRecognizer:I,stopSpeechRecognizer:T,startSpeechRecognizer:x}=(0,we.m)({tools:i,context:n,setUserInput:g,isSpeechFeatureEnabled:o,appendMessage:y,setUserInputMedium:w,scrollToBottom:S});return r.useEffect((()=>(f(),_e.on(oe.vQ,E),()=>{_e.off(oe.vQ,E)})),[]),r.createElement("div",{className:c(ye.content,ye.contentEnterDone)},r.createElement("div",{className:c(ye.body),style:{backgroundColor:"white"}},r.createElement(Se,{submitFeedback:_,setMessageList:m,conversations:d,tiles:t,customerName:a,loading:l,cannedActionEvent:v,chatLimitReached:0===(null==u?void 0:u.interactionsLeft),preCreatedTopics:b,tools:i,getSimilarItemEntity:A,openVisibilityInfoModal:N})),r.createElement("div",{className:ye.footer},r.createElement(ve.A,{userInput:h,setUserInput:g,submitUserInput:p,chatLimitReached:0===(null==u?void 0:u.interactionsLeft),audioAnimation:k,speechAnimation:C,enableSpeechRecognizer:I,stopSpeechRecognizer:T,startSpeechRecognizer:x,setUserInputMedium:w})))}var Ne=n(11506);const ke=e=>e.threadId.length>0?{entity_id:oe.qb+":"+e.threadId}:{entity_id:oe.qb};var Ce=(0,s.tile)({products:[],threadId:"",relevantEntities:[]}).withQueries((e=>{let{tools:t,entity:n}=e;return{data:{query:o,variables:{shouldRequestCustomerName:!t.customer.isAnonymous()&&n.hints.includes("zfa-flow")}}}})).withTracking(((e,t)=>{let{ruleData:n}=e;const a=!!n.enableStandaloneInShadow,r=!!n.enableStandaloneOnly,i={conversation_id:t.threadId||""};return{resolve:()=>({context:ke(t)}),...r||a?{exposeData:()=>({common:i}),useData:()=>({trackingData:{context:ke(t),standaloneEventsContext:i}})}:{}}})).withStaticTiles((()=>({visibilityInfo:[{hints:["visibility-info-modal"]}]}))).withProcessDependencies(((e,t,n)=>{var a,r,i;const s=null==e||null==(a=e.data)?void 0:a.customer;return{action:"render",data:{customerName:(null==s||null==(i=s.details)||null==(r=i.name)?void 0:r.first)||""},tiles:{...n.products.reduce(((e,t)=>({...e,[t]:[{id:t}]})),{}),...n.relevantEntities.reduce(((e,t)=>t.id?{...e,[t.id]:[{...t}]}:e),{})}}})).withRender((e=>{let{entity:t,context:n,ruleData:a,data:i,tools:o,tiles:c,rendererState:l}=e;var u;const{customerName:d}=i,f=async()=>{const e={type:"REDIRECT",initiator:"FASHION_ASSISTANT",payload:{url:window.location.pathname}};await o.customer.performLogin({action:e,view:"login"})};if(o.customer.isAnonymous())return(0,s.isBrowser)()&&(window.openZFAModal=f),null;const m=t.hints.includes("isView"),h=t.hints.includes("zfa-flow"),g=t.hints.includes("hide-fashion-assistant-tooltip"),p=t.hints.includes("speech_enabled"),E={enableStandaloneInShadow:!!a.enableStandaloneInShadow,enableStandaloneOnly:!!a.enableStandaloneOnly},v=null==(u=t.fragmentsData)?void 0:u.productId,{experienceName:b}=(0,Ne.q)(null==n?void 0:n.experience),_={trackingOptionFlags:E,sku:v,isDefaultExperience:!(b.isDesigner()||b.isStatement()),isWebView:n.isWebView};return m&&n.isWebView?r.createElement(de.X.Provider,{value:_},r.createElement(Ae,{tiles:c,context:n,customerName:d,tools:o,rendererState:l,isSpeechFeatureEnabled:p})):h?r.createElement(de.X.Provider,{value:_},r.createElement(Ee,{tiles:c,context:n,customerName:d,tools:o,rendererState:l,shouldShowTooltip:!g,isSpeechFeatureEnabled:p})):null}))},67466:function(e,t,n){"use strict";var a=n(58168),r=n(98587),i=n(50696),s=n(30812),o=n.n(s),c=n(85959),l=n.n(c),u=n(62507);const d=["children","className","forwardedRef"];t.A=e=>{let{children:t,className:n,forwardedRef:s}=e,c=(0,r.A)(e,d);const[f]=(0,i.D)(u.Ay),{style:{body:m}}=f;return"function"==typeof t?t((e=>(void 0===e&&(e={}),Object.assign({},e,{className:o()(m,e.className)}))),f):l().createElement("div",(0,a.A)({className:o()(m,n),ref:s},c),t)}},22349:function(e,t,n){"use strict";var a=n(58168),r=n(98587),i=n(50696),s=n(30812),o=n.n(s),c=n(85959),l=n.n(c),u=n(62507);const d=["className","children","forwardedRef"];t.A=e=>{let{className:t,children:n,forwardedRef:s}=e,c=(0,r.A)(e,d);const[f]=(0,i.D)(u.Ay),{style:{footer:m}}=f;return"function"==typeof n?n((e=>(void 0===e&&(e={}),Object.assign({},e,{className:o()(m,e.className)}))),f):l().createElement("div",(0,a.A)({className:o()(m,t),ref:s},c),n)}},99199:function(e,t,n){"use strict";var a=n(58168),r=n(98587),i=n(50696),s=n(30812),o=n.n(s),c=n(85959),l=n.n(c),u=n(62507);const d=["className","children","forwardedRef"];t.A=e=>{let{className:t,children:n,forwardedRef:s}=e,c=(0,r.A)(e,d);const[f]=(0,i.D)(u.Ay),{style:{header:m}}=f;return"function"==typeof n?n((e=>(void 0===e&&(e={}),Object.assign({},e,{className:o()(m,e.className)}))),f):l().createElement("div",(0,a.A)({className:o()(m,t),ref:s},c),n)}},68662:function(e,t,n){"use strict";var a=n(98587),r=n(75887),i=n(79624),s=n(39389),o=n(50696),c=n(30812),l=n.n(c),u=n(85959),d=n.n(u),f=n(62507),m=n(86311);const h=["bus","status","disableClickTrigger","style","forwardedRef"],g=["onMouseEnter","onMouseLeave","onFocus","onBlur","onClick","onKeyDown","tabIndex","ref","className"],p=["children","forwardedRef","disableClickTrigger"];t.A=e=>{const{children:t,forwardedRef:n,disableClickTrigger:c=!1}=e,E=(0,a.A)(e,p),[v,b]=(0,o.D)(f.Ay),{bus:_,status:y,triggerRef:w,style:{trigger:S}}=v;(0,u.useEffect)((()=>{y===m.U.OPEN&&setTimeout((()=>_.emit("toggle",{dontTrack:!0})),0)}),[]);const A=d().useCallback((()=>{w&&w.blur()}),[w]);(0,u.useEffect)((()=>(_.on("trigger:blur",A),()=>{_.off("trigger:blur",A)})),[w,A]);const N=e=>{"function"==typeof n&&n(e),!e||w&&w===e||b({triggerRef:e})};if("function"==typeof t)return t((k=Object.assign({},e,{handleRef:N,bus:_,status:y,style:{triggerStyle:S}}),e=>{void 0===e&&(e={});const{bus:t,status:n,disableClickTrigger:r=!1,style:{triggerStyle:o}}=k,c=(0,a.A)(k,h),{onClick:u,onKeyDown:d,tabIndex:f,className:p}=e,E=(0,a.A)(e,g);return Object.assign({"aria-expanded":n===m.U.OPEN,tabIndex:void 0!==f?f:0,ref:k.handleRef,className:l()(o,p)},!r&&{onClick:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];"function"==typeof u&&u(...n),t.emit("toggle")},onKeyDown:function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];"function"==typeof d&&d(e,...a),(0,i.EE)(e,[s.Ks.Enter],[s.Mr.KeyDown])&&t.emit("toggle")}},c,E)}),v);var k;const C=d().Children.only(t);return d().isValidElement(C)?d().cloneElement(C,Object.assign({"aria-expanded":y===m.U.OPEN,tabIndex:void 0!==C.props.tabIndex?C.props.tabIndex:0,ref:N,className:l()(S,C.props.className)},E,!c&&((e,t)=>{const{bus:n}=e;return{onClick:(0,r.E)(t,"onClick",(()=>{n.emit("toggle")})),onKeyDown:(0,r.E)(t,"onKeyDown",(e=>{(0,i.EE)(e,[s.Ks.Enter],[s.Mr.KeyDown])&&n.emit("toggle")}))}})(Object.assign({},e,{bus:_}),C))):null}},23330:function(e,t,n){"use strict";var a=n(58168),r=n(85959),i=n.n(r),s=n(50696),o=n(62507),c=n(86311);t.A=e=>{const{children:t,initialFocus:n,disable:l}=e,u=(0,r.useRef)(null),[d]=(0,s.D)(o.Ay),[f,m]=i().useState(!1),h=(0,r.useRef)(),g=(0,r.useRef)(),p=t=>{const n=null==t?void 0:t.item(0),a=null==n?void 0:n.getAttribute("type");if("radio"===a||"checkbox"===a){const t=(null==n?void 0:n.getAttribute("name"))||"";return t&&!["dropdown","picker"].includes(e.focusTarget)?T(t):n}return n},E=t=>{const n=null==t?void 0:t.item(t.length-1),a=null==n?void 0:n.getAttribute("type");if("radio"===a||"checkbox"===a){const t=(null==n?void 0:n.getAttribute("name"))||"";return t&&!["dropdown","picker"].includes(e.focusTarget)?T(t):n}return n},v=e=>{const t=e;if("Tab"===t.key&&!t.shiftKey){t.preventDefault();const e=I(),a=p(e);if(a instanceof NodeList){var n;let e=a.item(0);a.forEach((t=>{const n=t;n.checked&&(e=n)})),null===(n=e)||void 0===n||n.focus()}else{const e=a;null==e||e.focus()}}},b=()=>{m(!0)},_=()=>{m(!1)},y=e=>{const t=e;if("Tab"===t.key&&t.shiftKey){e.preventDefault();const t=I(),n=null==t?void 0:t.item(t.length-1);null==n||n.focus()}},w=(t,n,a)=>{if(t instanceof NodeList)if(["dropdown","picker"].includes(e.focusTarget)){t.item(0).addEventListener(n,a)}else for(let e=0;e<t.length;e++){t.item(e).addEventListener(n,a)}else t instanceof HTMLElement&&t.addEventListener(n,a)},S=(e,t,n)=>{if(e instanceof NodeList)for(let a=0;a<e.length;a++){e[a].removeEventListener(t,n)}},A=(e,t,n)=>{if(e instanceof NodeList)for(let a=0;a<e.length;a++){e[a].removeEventListener(t,n)}else e instanceof HTMLElement&&e.removeEventListener(t,n)};(0,r.useEffect)((()=>{if(l||d.status===c.U.CLOSED)return;const e=I();(e=>{if(n)if("string"==typeof n){var t;const e=null===(t=u.current)||void 0===t?void 0:t.querySelector(n);null==e||e.focus()}else{var a;null===(a=n.current)||void 0===a||a.focus()}else if(e instanceof NodeList){const t=e.item(0);requestAnimationFrame((()=>{t.focus()}))}else e instanceof HTMLElement&&requestAnimationFrame((()=>{setTimeout((()=>{e.focus()}),0)}))})(p(e))}),[n,l,d.status]);const N=e=>{const t=I(),n=E(t);S(t,"focus",b),S(t,"blur",_),w(n,"focus",b),w(n,"blur",_),((e,t)=>{t instanceof HTMLElement&&e.observe(t,{attributes:!0,attributeFilter:["disabled"]})})(e,n),g.current=n},k=()=>{const e=I(),t=p(e),n=E(e);h.current&&A(h.current,"keydown",y),g.current&&A(g.current,"keydown",v),t instanceof HTMLInputElement&&n instanceof HTMLInputElement&&t.name===n.name&&"radio"===t.type?w(t,"keydown",v):(w(t,"keydown",y),w(n,"keydown",v)),h.current=t,g.current=n},C=new MutationObserver((e=>{for(const t of e)if("attributes"===t.type&&"disabled"===t.attributeName){if(t.target.disabled){const e=h.current;null==e||e.focus()}}}));(0,r.useEffect)((()=>{if(!l&&d.status!==c.U.CLOSED)return N(C),()=>{C.disconnect(),(()=>{const e=I();A(e,"focus",b),A(e,"blur",_)})()}}),[l,f,d.status]),(0,r.useEffect)((()=>{const e=new MutationObserver((e=>{e.map((e=>"attributes"===e.type&&"disabled"===e.attributeName||"childList"===e.type)).includes(!0)&&(k(),N(C))}));return u.current&&e.observe(u.current,{childList:!0,attributes:!0,subtree:!0}),k(),()=>{e.disconnect(),C.disconnect(),(()=>{const e=I(),t=p(e),n=E(e);A(t,"keydown",y),A(n,"keydown",v)})()}}),[]);const I=()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.querySelectorAll("a, button:not([disabled]), input:not([disabled]):not([type='hidden']), select:not([disabled])")},T=e=>{var t;return null===(t=u.current)||void 0===t?void 0:t.querySelectorAll('input[name="'+e+'"]')};if(l)return i().createElement(i().Fragment,null,t);const x={tabIndex:-1,ref:u,role:"presentation"};return i().createElement("div",(0,a.A)({className:d.style.focusWrapper},x),t)}},64465:function(e,t,n){"use strict";var a=n(98587),r=n(85959),i=n.n(r),s=n(50696),o=n(21663),c=n(62507),l=n(86311);const u=["disableContentPreload"];t.A=e=>{const{disableContentPreload:t=!1}=e,d=(0,a.A)(e,u),[f,m]=(0,r.useState)((()=>()=>i().createElement(i().Fragment,null))),[h,g]=(0,s.D)(c.Ay),p=(0,r.useRef)(),{status:E,bus:v}=h,b=()=>{v.off("open",b),g({status:l.U.OPEN}),Promise.all([n.e(29674),n.e(34291)]).then(n.bind(n,34291)).then((e=>{m((()=>e.default))}))},_=()=>{E===l.U.CLOSED&&b()};(0,r.useEffect)((()=>{E===l.U.OPEN&&(v.off("toggle",_),b())}),[]),(0,r.useEffect)((()=>(v.on("toggle",_),v.on("open",b),()=>{v.off("toggle",_),v.off("open",b)})),[_,b,v]);const y=e=>{e.timeRemaining()>=25||e.didTimeout?(v.off("toggle",_),v.off("open",b),Promise.all([n.e(29674),n.e(34291)]).then(n.bind(n,34291)).then((e=>{m((()=>e.default))}))):("number"==typeof p.current&&(0,o.G)(p.current),p.current=(0,o.B)(y))};return(0,r.useEffect)((()=>(t||(p.current=(0,o.B)(y,{timeout:250})),()=>{t||"number"==typeof p.current&&(0,o.G)(p.current)})),[]),i().createElement(f,d)}},62507:function(e,t,n){"use strict";var a=n(59890),r=n(34801),i=n(85959),s=n.n(i),o=n(86311);const c={style:{},status:o.U.CLOSED,value:null},l=(0,r.e)((e=>Object.assign({},c,{bus:new a.l},void 0!==(null==e?void 0:e.defaultValue)?{value:null==e?void 0:e.defaultValue}:{})),(e=>{const{styles:t={},bus:n,closeToSwipeDirection:a,preventFocusTransfer:r}=e;return Object.assign({style:t,closeToSwipeDirection:a,preventFocusTransfer:r},void 0!==n?{bus:n}:{})}))((e=>{const{defaultValue:t,initialStatus:n,context:{bus:a,setContext:r,value:c},children:l,onOpen:u,onChange:d,onClose:f,onBlur:m,onSubmit:h}=e;(0,i.useEffect)((()=>{void 0===n&&void 0===t||r(Object.assign({},void 0!==t?{value:t}:{},void 0!==n?{status:n}:{})),n===o.U.OPEN&&setTimeout((()=>{a.emit("open",{dontTrack:!0})}),0)}),[t,a]);const g=(0,i.useCallback)((e=>{"function"==typeof d&&d(e),r({value:e})}),[d]),p=(0,i.useCallback)((()=>{"function"==typeof m&&m(c)}),[c,m]),E=(0,i.useCallback)((e=>{"function"==typeof h&&h(e),r({value:e})}),[h]),v=(0,i.useCallback)((e=>{let{status:t,dontTrack:n}=e;t===o.U.OPEN?n||"function"!=typeof u||u(c):t!==o.U.CLOSED||n||"function"!=typeof f||f(c)}),[c,u,f]);return(0,i.useEffect)((()=>(a.on("change",g),()=>{a.off("change",g)})),[a,g]),(0,i.useEffect)((()=>(a.on("blur",p),()=>{a.off("blur",p)})),[a,p]),(0,i.useEffect)((()=>(a.on("submit",E),()=>{a.off("submit",E)})),[a,E]),(0,i.useEffect)((()=>(a.on("toggle:success",v),()=>{a.off("toggle:success",v)})),[a,v]),s().createElement(s().Fragment,null,l)}));t.Ay=l},86311:function(e,t,n){"use strict";let a;n.d(t,{U:function(){return a}}),function(e){e.OPEN="open",e.CLOSED="closed"}(a||(a={}))},31145:function(e,t,n){"use strict";n.d(t,{HP:function(){return s},ON:function(){return r},o8:function(){return i}});var a=n(76793);function r(){const e=localStorage.getItem(a.pq);var t;if(e)try{const n=JSON.parse(e);if(!(null==n?void 0:n.last_updated_at))return;const r=new Date(n.last_updated_at);if(!((t=r)instanceof Date)||isNaN(t.getTime()))return;if(Math.abs((new Date).getTime()-r.getTime())>a.Vl)return;return n.chat_session_id}catch{return}}function i(e){localStorage.setItem(a.pq,JSON.stringify({chat_session_id:e,last_updated_at:new Date}))}function s(){localStorage.removeItem(a.pq)}},73691:function(e,t,n){"use strict";n.d(t,{$_:function(){return _},Eu:function(){return S},G6:function(){return l},PI:function(){return f},XF:function(){return u},a6:function(){return b},eb:function(){return w},h3:function(){return E},hM:function(){return h},mj:function(){return A},oP:function(){return p},pq:function(){return d},uH:function(){return y},xQ:function(){return m},xg:function(){return g},y4:function(){return v}});var a=n(89862),r=n(31145),i=n(85517);const s="fashion assistant",o="fashion assistant icon",c="fashion assistant signup",l=e=>{void 0===e&&(e=!1);return{name:a.wc,context:{customLabel:e?c:o}}},u=e=>{void 0===e&&(e=!1);return{name:a.bD,context:{customLabel:e?c:o}}},d=()=>({name:a.bD,context:{customLabel:"fashion assistant maybe later"}}),f=()=>({name:a.bD,context:{customLabel:"fashion assistant chat now"}}),m=e=>({name:a.bD,context:{customLabel:"question asked."+e,customCategory:s,customActionSuffix:"chat interaction",customScreenName:s}}),h=e=>({name:a.bD,context:{customLabel:"question asked."+i.gh.CANNED_ACTION+"."+e,customCategory:s,customActionSuffix:"chat interaction",customScreenName:s}}),g=e=>({name:a.wc,context:{customLabel:i.gh.CANNED_ACTION+"."+e,customCategory:s,customScreenName:s}}),p=e=>({name:a.bD,context:{customLabel:e?"feedback.with product":"feedback.without product",customCategory:s,customActionSuffix:"chat interaction",customScreenName:s}}),E=()=>({name:a.bD,context:{customLabel:"reset",customCategory:s,customScreenName:s,entity_id:(0,r.ON)()}}),v=()=>({name:a.bD,context:{customLabel:"reset limit reached",customCategory:s,customScreenName:s,entity_id:(0,r.ON)()}}),b=()=>({name:a.bD,context:{customLabel:"close",customCategory:s,customScreenName:s}}),_=e=>{const t=e===i.rY.POSITIVE?"up":"down";return{name:a.bD,context:{customLabel:"thumbs "+t,customScreenName:s,customCategory:s}}},y=()=>({name:a.wc,context:{customLabel:"thumbs up and down button",customCategory:s,customScreenName:s}}),w=()=>({name:a.D1,context:{customScreenName:s}}),S=e=>({name:a.wc,context:{customLabel:e,customCategory:s,customActionSuffix:"error"}}),A=(e,t)=>({name:a.bD,context:{customLabel:"microphone "+e+".speech recognition "+t,customCategory:s,customActionSuffix:"microphone"}})},53437:function(e,t,n){"use strict";n.d(t,{DM:function(){return c},L:function(){return o},iV:function(){return i},tX:function(){return s}});var a=n(89862),r=n(27314);const i=e=>{let{tracking:t,trackingOptionFlags:n,ZAViewEvent:i}=e;null==t||t.track(i,n);const{customLabel:s}=i.context;null==t||t.trackStandalone({name:"view_content",context:{legacy_event_name:a.wc,event_trigger_name:(0,r.$J)(s)}},n)},s=e=>{let{tracking:t,trackingOptionFlags:n,ZAClickEvent:i}=e;null==t||t.track(i,n);const{customLabel:s}=i.context;null==t||t.trackStandalone({name:"select_content",context:{legacy_event_name:a.bD,event_trigger_name:(0,r.$J)(s)}},n)},o=e=>{let{tracking:t,trackingOptionFlags:n,ZAScreenViewEvent:r}=e;null==t||t.track(r,n),null==t||t.trackStandalone({name:"view_content",context:{legacy_event_name:a.wc,event_trigger_name:"fashion_assistant_dialog"}},n)},c=e=>{let{content_id:t,params:n}=e;return{name:"select_content",context:{content_id:t,legacy_event_name:a.bD,event_trigger_name:l(n)}}},l=e=>Object.entries(e).filter((e=>{let[t,n]=e;return t&&n})).map((e=>{let[t,n]=e;return t+":"+n})).join("|||")},85517:function(e,t,n){"use strict";var a;n.d(t,{Go:function(){return a},JN:function(){return d},Ke:function(){return i},aH:function(){return m},dV:function(){return g},gh:function(){return c},h8:function(){return h},ie:function(){return l},mj:function(){return r},rY:function(){return s},rr:function(){return u},xC:function(){return f},yf:function(){return o}}),function(e){e.customer="CUSTOMER",e.assistant="ASSISTANT"}(a||(a={}));const r=e=>e.source===a.assistant;var i,s,o,c,l,u,d,f,m,h,g;!function(e){e.MESSAGE="message",e.CONVERSATION="conversation",e.DEFAULT="default"}(i||(i={})),function(e){e.POSITIVE="positive",e.NEGATIVE="negative",e.NO_REACTION="no_reaction"}(s||(s={})),function(e){e.THUMBS_UP="ðŸ‘",e.THUMBS_DOWN="ðŸ‘Ž"}(o||(o={})),function(e){e.TEXT="text",e.CANNED_ACTION="canned action",e.VOICE="voice"}(c||(c={})),function(e){e.START_SPEECH_RECOGNITION="START_SPEECH_RECOGNITION",e.STOP_SPEECH_RECOGNITION="STOP_SPEECH_RECOGNITION"}(l||(l={})),function(e){e.START_AUDIO_ANIMATION="START_AUDIO_ANIMATION",e.STOP_AUDIO_ANIMATION="STOP_AUDIO_ANIMATION",e.START_SPEECH_ANIMATION="START_SPEECH_ANIMATION",e.STOP_SPEECH_ANIMATION="STOP_SPEECH_ANIMATION",e.SHOW_ERROR_MESSAGE="SHOW_ERROR_MESSAGE",e.SET_ASSISTANT_INPUT="SET_ASSISTANT_INPUT",e.TRACKING="TRACKING"}(u||(u={})),function(e){e.GRANTED="granted",e.DENIED="denied",e.UNKNOW="unknow"}(d||(d={})),function(e){e.GRANTED="granted",e.DENIED="denied",e.UNKNOW="unknow"}(f||(f={})),function(e){e.SEARCH="SEARCH",e.REDIRECT="REDIRECT"}(m||(m={})),function(e){e.SHOW_SIMILAR="similar_items"}(h||(h={})),function(e){e.ELEMENT="element"}(g||(g={}))},35506:function(e,t,n){"use strict";n.d(t,{Y:function(){return y}});var a=n(85959),r=n(85517),i=n(32740),s=n(13010),o=n(76793);class c{async getChatSessionId(){var e;const t=await s(o.H$+"/chats",{method:"POST",credentials:"same-origin"}),n=await this.interceptHttpError(t);return(null==n||null==(e=n.chat_session_id)?void 0:e.length)?n.chat_session_id:null}async getMessage(e,t){var n;const a=await s(o.H$+"/chats/"+e+"/messages",{method:"POST",headers:this.commonHeaders,credentials:"same-origin",body:JSON.stringify(t)}),r=await this.interceptHttpError(a);return(null==r||null==(n=r.message)?void 0:n.length)?r:null}async getHistory(e){var t;const n=await s(o.H$+"/chats/"+e+"/messages",{method:"GET",headers:this.commonHeaders,credentials:"same-origin"}),a=await this.interceptHttpError(n);return(null==a||null==(t=a.messages)?void 0:t.length)?(a.messages.map((e=>{e.interactions_left=null==a?void 0:a.interactions_left,e.interactions_limit=null==a?void 0:a.interactions_limit})),a.messages):null}async getCannedAction(e,t){var n;const a=t?"?product_id="+t:"",r=await s(o.H$+"/chats/"+e+"/canned-responses"+a,{method:"GET",headers:this.commonHeaders,credentials:"same-origin"}),i=await this.interceptHttpError(r);return(null==i||null==(n=i.canned_responses)?void 0:n.length)?i.canned_responses:[]}submitMessageFeedback(e,t,n){s(o.H$+"/chats/"+e+"/messages/"+t+"/feedbacks",{method:"POST",headers:this.commonHeaders,credentials:"same-origin",body:JSON.stringify({message_reaction:n})}).then((e=>{if(201!==e.status)throw e}))}constructor(e){this.context=void 0,this.commonHeaders=void 0,this.interceptHttpError=async e=>{if(e.status>=300)throw e;return e.json()},this.context=e;const t={"X-App-Version":this.context.deviceInfo.appVersion,"X-Device-Platform":this.context.deviceInfo.appPlatform};this.commonHeaders={"X-Zalando-Page-Gender":this.context.intent.navigationTargetGroup||"all","Content-Type":"application/json","X-Sales-Channel":this.context.salesChannel,"Accept-Language":this.context.locale},this.context.isWebView&&(this.commonHeaders={...this.commonHeaders,...t})}}var l=n(31145),u=n(73691),d=n(33221);var f=function(e){let{text:t,linkText:n,linkURL:r}=e;return a.createElement("div",null,t," ",a.createElement(d.A,{href:r,target:"_blank"},n))},m=n(27314),h=n(98599),g=n(25613),p=n(90911),E=n(53437),v=n(93318),b=n(56542),_=n(95724);function y(e){let{tools:t,context:n,rendererState:s,customerName:d}=e;const[y,w]=a.useState(o.r$),{trackingOptionFlags:S,sku:A}=a.useContext(p.X),[N,k]=a.useState([]),[C,I]=a.useState(""),[T,x]=a.useState([]),[O,L]=a.useState(""),[R,D]=a.useState(),[M,F]=a.useState(!1),[P,H]=a.useState(!1),[V,Z]=a.useState(null),[G,U]=a.useState(r.gh.TEXT),[j]=(0,h.T)([g.EA.desktop]),{setRendererState:X}=t,W=new c(n),B={source:r.Go.assistant,message:__("chat.fashion.assistant.ui.welcome.text",d)},K={source:r.Go.assistant,message:__("chat.fashion.assistant.backend.error")},q={source:r.Go.assistant,message:__("chat.fashion.assistant.chat.session.api.error")},z={source:r.Go.assistant,message:__("chat.fashion.assistant.chat.history.api.error")},Q={source:r.Go.assistant,message:__("chat.fashion.assistant.chat.overload.error")},J={source:r.Go.assistant,message:__("chat.fashion.assistant.ui.chat.limit.text"),items:[]},Y={source:r.Go.assistant,message:__("chat.fashion.assistant.ui.chat.limit.approaching.text"),items:[]},$={source:r.Go.assistant,message:a.createElement(f,{text:__("chat.fashion.assistant.ui.faq.message"),linkText:__("chat.fashion.assistant.ui.faqs.text"),linkURL:__("chat.fashion.assistant.ui.faq.link")}),items:[]},ee=e=>{x((t=>[...t,e]))},te=e=>{setTimeout((()=>{let e=R;if(!e){const t=document.getElementById("zfa-assistant-body");if(!(null==t?void 0:t.parentNode))return;e=null==t?void 0:t.parentNode}if(!e)return;const t=e.scrollHeight-e.clientHeight;e.scrollTop=t>0?t:0}),e)},ne=async()=>{let e;F(!0);const n=l.ON();let a=null;if(n){try{a=await W.getHistory(n)}catch(e){return F(!1),H(!0),o.Bc.includes(null==e?void 0:e.status)?ee(Q):ee(z)}e=n}else try{e=await W.getChatSessionId()}catch(e){return F(!1),H(!0),o.Bc.includes(null==e?void 0:e.status)?ee(Q):ee(q)}if(e){F(!1),X({threadId:e}),I(e);const n=await W.getCannedAction(e,A||"");k(n),ae(a),l.o8(e),setTimeout((()=>{(0,E.L)({tracking:t.tracking,trackingOptionFlags:S,ZAScreenViewEvent:(0,u.eb)()})}),500)}},ae=e=>{if(!e)return ee(B),void ee($);if(e.unshift($),e.unshift(B),oe(e),x(e),e.length>1){const t=e[e.length-1],n={interactionsLeft:(null==t?void 0:t.interactions_left)||0,interactionsLimit:(null==t?void 0:t.interactions_limit)||0};se(n),te(800)}},re=()=>{0===(null==V?void 0:V.interactionsLeft)?(0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.y4)()}):(0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.h3)()}),l.HP(),I(""),Z(null),x([]),X({products:[],threadId:""}),U(r.gh.TEXT),ne(),L("")};(0,i.isBrowser)()&&n.isWebView&&(window.resetZalandoFashionAssistantChat=re,window.webViewCloseButtonTracking=()=>{(0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.a6)()})});const ie=(e,n)=>{e&&(ee({source:r.Go.customer,message:e.message}),te(400),F(!0),n===r.gh.TEXT?L(""):n===r.gh.VOICE&&setTimeout((()=>L("")),300),U(r.gh.TEXT),l.o8(C),W.getMessage(C,e).then((e=>{var n,a;if(!e)return void ee(K);const i={interactionsLeft:e.interactions_left||0,interactionsLimit:e.interactions_limit||0};ee({...e,source:r.Go.assistant}),(null==(n=e.items)?void 0:n.length)&&X({products:[...s.products,...e.items]}),(0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.oP)(!!(null==(a=e.items)?void 0:a.length))}),se(i)})).catch((e=>{o.Bc.includes(e.status)?ee(Q):ee(K)})).finally((()=>{F(!1),te(100)})))},se=e=>{Z(e),0===e.interactionsLeft&&ee({...J,...e}),(null==e?void 0:e.interactionsLeft)===o.Y_&&ee({...Y,...e})},oe=e=>{const t=e.filter(r.mj).reduce(((e,t)=>t.items&&t.items.length>0?[...e,...t.items]:e),[]);X({products:t})},ce=(e,t)=>{if(-1!==T.filter(r.mj).findIndex((t=>t.chat_message_id===e))){if(T.map((n=>{n.chat_message_id===e&&(n.relevantEntities=t)})),0===t.length)return X({relevantEntities:[]}),void x([...T]);X({relevantEntities:[...s.relevantEntities,...t]},{callback:()=>{x([...T]),(0,m.PA)(500,"similar-product"+e)}})}},le=e=>{e&&t.executeQuery({...b,variables:{id:e}},{fetchPolicy:"cache-first"}).then((e=>{let{data:t}=e;var n,a;const r=null==t||null==(n=t.collection)?void 0:n.visibility;var i;"RecommendationVisibility"===(null==r?void 0:r.__typename)&&(null==r||null==(a=r.visibilityInfo)?void 0:a.id)&&w(null==r||null==(i=r.visibilityInfo)?void 0:i.id)}))};return{hasError:P,loading:M,chatLimit:V,userInput:O,setUserInput:L,conversations:T,initiateChat:ne,setMessageList:D,resetChatSession:re,submitUserInput:()=>{O&&!M&&l.ON()&&((0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.xQ)(G)}),ie({message:O},G))},submitFeedback:(e,n)=>{const a=(0,l.ON)();if((0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.$_)(n)}),!a||!e)return;W.submitMessageFeedback(a,e,n);const i=n===r.rY.POSITIVE?r.yf.THUMBS_UP:r.yf.THUMBS_DOWN;U(r.gh.TEXT),(0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.xQ)(r.gh.TEXT)}),ie({message:i},r.gh.TEXT)},updateWishlistIndicator:()=>{window.isWishlistUpdated=!0},cannedActionEvent:e=>{(0,E.tX)({tracking:t.tracking,trackingOptionFlags:S,ZAClickEvent:(0,u.hM)(e.tracking_label)}),U(r.gh.CANNED_ACTION);if((0,m.ui)(e.canned_action)===r.aH.REDIRECT){const t=e.canned_action.split(o.Or);if(n.isWebView){const e=document.createElement("a");e.href=t[t.length-1]||"",document.body.appendChild(e),e.click()}else window.open(t[t.length-1],j?"_blank":"_self")}else ie(e,r.gh.CANNED_ACTION)},preCreatedCannedAction:N,appendMessage:ee,setUserInputMedium:U,scrollToBottom:te,getSimilarItemEntity:(e,n)=>{var a;null==(a=t.tracking)||a.trackStandalone((0,E.DM)({content_id:e,params:{[r.dV.ELEMENT]:r.h8.SHOW_SIMILAR}})),t.executeQuery({...v,variables:{id:e}},{fetchPolicy:"cache-first"}).then((e=>{let{data:t}=e;var a,r,i;const s=[];let o="";null==t||null==(i=t.product)||null==(r=i.relevantEntities)||null==(a=r.edges)||a.forEach((e=>{let{node:{id:t}}=e;const n={id:t,hints:["SIMILAR","fashion-assistant"]};s.push(n),o=t})),le(o),ce(n,s)}))},setProductInRendererState:oe,openVisibilityInfoModal:()=>{(0,_.D9)({visibilityInfoId:y})}}}},64150:function(e,t,n){"use strict";n.d(t,{m:function(){return f}});var a=n(32740),r=n(85959),i=n(30072),s=n.n(i),o=n(85517),c=n(73691),l=n(53437),u=n(90911);let d=null;function f(e){let{tools:t,context:n,setUserInput:i,isSpeechFeatureEnabled:f,appendMessage:m,setUserInputMedium:h,scrollToBottom:g}=e;const{trackingOptionFlags:p}=r.useContext(u.X),[E,v]=r.useState(!1),[b,_]=r.useState(!1),[y,w]=r.useState(!1),S=r.useRef(""),A=r.useRef(!1),N=r.useRef(""),k=r.useRef(""),C=__("chat.asistant.ui.voice.input.generic.error"),I=__("chat.asistant.ui.voice.input.mic.permission.web.android.error"),T=__("chat.asistant.ui.voice.input.mic.permission.web.ios.error"),x=__("chat.asistant.ui.voice.input.speech.permission.web.ios.error"),O=()=>{U(),A.current=!1,S.current=""},L=()=>{j()},R=()=>{j(),X(),A.current=!0,(0,l.tX)({tracking:t.tracking,trackingOptionFlags:p,ZAClickEvent:(0,c.mj)(o.xC.GRANTED,o.JN.GRANTED)})},D=()=>{W(),U()},M=()=>{var e;(null==V||V.cancel(),null==Z||Z.cancel(),j(),W(),G(),A.current&&!S.current)?B("no-result"):Q(null==(e=S.current)?void 0:e.toString().trim())},F=e=>{Z();let t="",a="";for(const r of(null==e?void 0:e.results)||[])if(r.isFinal)for(const e of r||[])"android"===n.deviceInfo.appPlatform?a=null==e?void 0:e.transcript:"ios"===n.deviceInfo.appPlatform&&(a=a+" "+(null==e?void 0:e.transcript));else for(const e of r||[])t+=null==e?void 0:e.transcript;t=a+" "+t,j(),X(),Q(t.trim()||a.trim()),a&&("ios"===n.deviceInfo.appPlatform&&V(),S.current=a)},P=e=>{B(null==e?void 0:e.error),G()},H=()=>{U(),Z()},V=s()((()=>{W(),U()}),700),Z=s()((()=>{K()}),6e3),G=()=>{d&&(d.removeEventListener("audiostart",O),d.removeEventListener("audioend",L),d.removeEventListener("speechstart",R),d.removeEventListener("speechend",D),d.removeEventListener("end",M),d.removeEventListener("result",F),d.removeEventListener("error",P),d.removeEventListener("start",H))},U=()=>{v(!0)},j=()=>{v(!1)},X=()=>{_(!0)},W=()=>{_(!1)},B=e=>{switch((null==e?void 0:e.length)&&(0,l.iV)({tracking:t.tracking,trackingOptionFlags:p,ZAViewEvent:(0,c.Eu)(e)}),e){case"aborted":K();break;case"no-speech":return;case"audio-capture":default:return void $({source:o.Go.assistant,message:C});case"service-not-allowed":if(K(),parseInt(Date.now().toString())-parseInt(N.current)>100)return;return"ios"===n.deviceInfo.appPlatform&&$({source:o.Go.assistant,message:x}),void(0,l.tX)({tracking:t.tracking,trackingOptionFlags:p,ZAClickEvent:(0,c.mj)(o.xC.GRANTED,o.JN.DENIED)});case"not-allowed":if(K(),parseInt(Date.now().toString())-parseInt(k.current)>100)return;return"ios"===n.deviceInfo.appPlatform?$({source:o.Go.assistant,message:T}):"android"===n.deviceInfo.appPlatform&&$({source:o.Go.assistant,message:I}),void(0,l.tX)({tracking:t.tracking,trackingOptionFlags:p,ZAClickEvent:(0,c.mj)(o.xC.DENIED,o.JN.UNKNOW)})}},K=()=>{n.isWebView?q(o.ie.STOP_SPEECH_RECOGNITION):(j(),W(),null==V||V.cancel(),null==Z||Z.cancel(),null==d||d.stop(),G())},q=e=>{var t,n,a,r;if(null==(t=window)?void 0:t.VirtualAssistantWebInterface)window.VirtualAssistantWebInterface.onMessageReceived(e);else if((null==(n=window)?void 0:n.webkit)&&(null==(r=window)||null==(a=r.webkit)?void 0:a.messageHandlers)){var i,s,o,c;null==(c=window)||null==(o=c.webkit)||null==(s=o.messageHandlers)||null==(i=s.VirtualAssistantWebInterface)||i.postMessage(e)}},z=(e,t)=>{switch(e){case o.rr.START_AUDIO_ANIMATION:U();break;case o.rr.STOP_AUDIO_ANIMATION:j();break;case o.rr.START_SPEECH_ANIMATION:X();break;case o.rr.STOP_SPEECH_ANIMATION:W();break;case o.rr.SHOW_ERROR_MESSAGE:B(t||"");break;case o.rr.SET_ASSISTANT_INPUT:Q(t||"")}};r.useEffect((()=>{const e=!(!window.SpeechRecognition&&!window.webkitSpeechRecognition);w(e)}),[]);const Q=e=>{e&&(h(o.gh.VOICE),i(e))},J=(0,a.isBrowser)()&&n.isWebView?f:f&&y,Y=(e,n)=>{(0,l.tX)({tracking:t.tracking,trackingOptionFlags:p,ZAClickEvent:(0,c.mj)(e,n)})};(0,a.isBrowser)()&&n.isWebView&&(window.sendWebViewActionSignal=z,window.sendPermissionTracking=Y);const $=e=>{m(e),g(10)};return{audioAnimation:E,speechAnimation:b,enableSpeechRecognizer:J,startSpeechRecognizer:()=>{n.isWebView?q(o.ie.START_SPEECH_RECOGNITION):(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;d=new e,d.continuous=!0,d.lang=n.locale,d.maxAlternatives=1,d.interimResults=!0,d.addEventListener("audiostart",O),d.addEventListener("audioend",L),d.addEventListener("speechstart",R),d.addEventListener("speechend",D),d.addEventListener("end",M),d.addEventListener("result",F),d.addEventListener("error",P),d.addEventListener("start",H),d.start(),N.current=Date.now().toString(),k.current=Date.now().toString()})()},stopSpeechRecognizer:K,abortSpeechRecognizer:()=>{n.isWebView?q(o.ie.STOP_SPEECH_RECOGNITION):(null==V||V.cancel(),null==Z||Z.cancel(),null==d||d.abort(),setTimeout((()=>{j(),W(),i("")}),400))}}}},27314:function(e,t,n){"use strict";n.d(t,{$J:function(){return o},PA:function(){return c},Tn:function(){return i},ui:function(){return s}});var a=n(76793),r=n(85517);const i=()=>{const e=document.getElementsByClassName("zfa-svg-animation-icon");if(!e.length)return;const t=e[0];if(!t)return;const n=t.querySelector("svg");n&&(n.setAttribute("style","transition-property: transform; transition-duration: 0.6s; transform-origin: 100% 75%; transform: rotate(20deg);"),setTimeout((()=>{n.setAttribute("style","transition-property: transform,transform-origin; transition-duration: 0.3s; transform-origin: center; transform: rotate(0deg); "),setTimeout((()=>{const e=n.querySelectorAll("path");if(!e.length)return;const t=e[1];t&&(t.setAttribute("style","transition-property: transform; transition-duration: 0.4s; transform: scale(0.7);"),setTimeout((()=>{t.setAttribute("style","transition-property: transform; transition-duration: 0.3s; transform: scale(1.0);")}),400))}),500)}),900))},s=e=>e.includes(a.g4)?r.aH.SEARCH:e.includes(a.Or)?r.aH.REDIRECT:void 0,o=e=>e?e.replace(/ /g,"_"):"",c=(e,t)=>{t&&document&&setTimeout((()=>{const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}),e||0)}},56542:function(e){e.exports={id:"6b871d1593ec848f5bb22e7517772624943b39dc4708133172ac3522a107e387"}},59055:function(e){e.exports={id:"649ed95132c493b0d0cab0e6cfe0a7a0e8555a463bdc162bf044a976af5b960f"}},93318:function(e){e.exports={id:"39cfd94a39d85a0946c1003c62784cafbb0c53970be7db12ae3fe7d40401a40b"}},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},48398:function(e){"use strict";e.exports=n},32740:function(e){"use strict";e.exports=a},21775:function(e){"use strict";e.exports=r}},function(e){var t=function(t){return e(e.s=t)};return e.O(0,[29674],(function(){return t(80277),t(59789)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/chat_fashion-assistant/index-d31b484ac78ada4b3684.map